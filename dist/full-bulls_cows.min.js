/*!
* Bulls-Cows Mind game - v0.0.1 - 2014-04-09
* https://github.com/NioniosFr/js-bulls-cows
* Copyright (c) 2014 [NioniosFr] Dionysios Fryganas 
* Licensed under: MIT 
*/
function Game(){var a,b=9,c=document.getElementById("initial"),d=document.getElementById("guessLength"),e=document.getElementById("start"),f=document.getElementById("inGame"),g=document.getElementById("userInput"),h=document.getElementById("userGuess"),i=document.getElementById("guess"),j=document.getElementById("reset"),k=document.getElementById("log"),l=document.getElementById("error"),m=document.getElementById("pcGuess"),n=document.getElementById("success"),o=document.getElementById("reverse");j.addEventListener("click",function(){a=null,t(c),u(f),k.innerHTML="",u(k),h.value="",s(),u(n)});var p=function(){n.innerHTML="<p><strong>Congratulations!</strong> You won in "+a.getLastResult().turn+" turns.</p>",t(n)},q=function(){k.innerHTML=a.getRounds(o.checked),t(k)},r=function(a){l.innerHTML=a,t(l)};this.getProcessor=function(){return a};var s=function(){l.innerHTML="",u(l)},t=function(a){a.style.display="block"},u=function(a){a.style.display="none"},v=function(){var e=d.value.trim();return isNaN(e)||e>b?void r("Add a number please, of maximum length "+b+"."):(a=new Processor(e),s(),u(c),t(f),t(g),m.value=a.getPcGuess(),void 0)},w=function(){var b=h.value.trim();return isNaN(b)||b.length!=a.getGuessLength()?void r("Add a number please, of maximum length "+a.getGuessLength()+"."):(a.setInput(h.value),s(),a.getResult()&&p(),void q())};e.addEventListener("click",v),document.getElementById("guessLength").addEventListener("keypress",function(a){13==a.keyCode&&(a.preventDefault(),v())}),i.addEventListener("click",w),document.getElementById("userGuess").addEventListener("keypress",function(a){13==a.keyCode&&(a.preventDefault(),w())}),o.addEventListener("click",q),u(f)}function Processor(a){for(var b,c=[],d=[],e=parseInt(a,10),f=[],g=0;e>g;g++){var h,i=!1;do{h=Math.floor(9*Math.random()+0);for(var j=0;j<c.length&&!(i=c[j]==h?!0:!1);j++);}while(i);c[g]=h}this.getPcGuess=function(){return c},this.getGuessLength=function(){return e},this.setInput=function(a){for(var c=0;e>c;c++)d[c]=parseInt(a[c],10);b=parseInt(a,10)},this.getResult=function(){var a=f.length;return f[a]={},f[a].bulls=l(),f[a].cows=m(),f[a].userInput=b,f[a].turn=a+1,f[a].bulls===e},this.getRounds=function(a){var b,c="<table id='entries' class='table table-condensed'><tbody><tr><th>Turn</th><th>Input</th><th>Cows</th><th>Bulls</th></tr>";if(a)for(var d=f.length-1,g=0;d>=g;d--)c+=f[d].bulls===e?'<tr class="success">':"<tr>",b=String(f[d].userInput).length===e?f[d].userInput:"0"+f[d].userInput,c+=k(f[d].turn),c+=k(b),c+=k(f[d].cows),c+=k(f[d].bulls),c+="</tr>";else for(var h=0,i=f.length;i>h;h++)c+=f[h].bulls===e?'<tr class="success">':"<tr>",b=String(f[h].userInput).length===e?f[h].userInput:"0"+f[h].userInput,c+=k(f[h].turn),c+=k(b),c+=k(f[h].cows),c+=k(f[h].bulls),c+="</tr>";return c+="</tbody></table>"};var k=function(a,b){return a=a||"-","<td class='"+String(b)+"'>"+String(a)+"</td>"},l=function(){for(var a=0,b=0;e>b;b++)a+=d[b]===c[b]?1:0;return a};this.setPcGuess=function(a){for(var b=0;e>b;b++)c[b]=parseInt(a[b],10)},this.getLastResult=function(){return f[f.length-1]};var m=function(){for(var a=0,b=0;e>b;b++)for(var f=0;e>f;f++)if(d[b]===c[f]&&b!=f){a+=1;break}return a}}function BrootForcer(a){{var b=a;new Date}this.findNoBull=function(){var a=!1;do{var c=Math.floor(9*Math.random()+0);b.setInput(String(c)),b.getResult(),0===b.getLastResult().bulls&&(a=!0)}while(!a)},this.break=function(){}}